<!DOCTYPE html>
<html lang="fi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, noimageindex, noarchive">

    <title>Taistelukenttä d20 - Pelaajan Työkalu</title>
    <meta name="description"
        content="Taistelukenttä d20 -pelin interaktiivinen pikaopas ja työkalu pelaajalle. Hallinnoi yksiköitäsi, seuraa komentopisteitä ja käytä apuohjelmia pelin aikana.">
    <meta name="author" content="Akseli Larikka">
    <link rel="canonical" href="https://akselilarikka.github.io/taistelukentta/pelaajan-pikaopas.html">
    <meta name="keywords" lang="fi"
        content="pelaajan työkalu, pikaopas, Taistelukenttä d20, komentopisteet, KP, yksiköt, säännöt, nopea viite, sotapeli, d20 system, D&D, Dungeons and Dragons, noppapeli, suomalainen, ilmaiset säännöt, taktinen työkalu">
    <meta name="keywords" lang="en"
        content="player tool, quick reference, player guide, Taistelukenttä d20, command points, units, rules, wargame, d20 system, D&D, Dungeons and Dragons, dice game, Finnish, free rules, tactical tool">

    <link rel="icon" href="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629056/tkd20ikoni.png">

    <meta property="og:title" content="Taistelukenttä d20 - Pelaajan Työkalu">
    <meta property="og:description"
        content="Interaktiivinen pikaopas ja työkalu pelaajalle. Hallinnoi yksiköitäsi ja seuraa komentopisteitä pelin aikana.">
    <meta property="og:image"
        content="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629056/TKD20LOGO_tcsrcz.png">
    <meta property="og:image:alt" content="Taistelukenttä d20 -logo">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://akselilarikka.github.io/taistelukentta/pelaajan-pikaopas.html">
    <meta property="og:type" content="website">
    <meta property="article:published_time" content="2025-12-01 T13:18:29">
    <meta property="article:author" content="Akseli Larikka">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Taistelukenttä d20 - Pelaajan Työkalu">
    <meta name="twitter:description"
        content="Interaktiivinen pikaopas ja työkalu pelaajalle. Hallinnoi yksiköitäsi ja seuraa komentopisteitä pelin aikana.">
    <meta name="twitter:image"
        content="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629056/TKD20LOGO_tcsrcz.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="Styles/rules.css">
    <link rel="stylesheet" type="text/css" href="Styles/player-tools.css">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Taistelukenttä d20 - Pelaajan Työkalu",
      "url": "https://akselilarikka.github.io/taistelukentta/pelaajan-pikaopas.html",
      "author": {
        "@type": "Person",
        "name": "Akseli Larikka"
      }
    }
    </script>
</head>

<body>
    <header id="main-navbar">
        <div class="container">
            <div class="header-left-spacer"></div>
            <div id="navbar-dropdown-container">
                <a href="#" id="current-page-name" class="home-link">Pelaajan pikaopas</a>
                <nav id="main-navbar-content">
                    <ul class="top-nav-list">
                        <li><a href="index.html" class="nav-link-top">Etusivu</a></li>
                        <li><a href="ydinsaannot.html" class="nav-link-top">Ydinsäännöt</a></li>
                        <li><a href="taktisen-tason-taistelu.html" class="nav-link-top">Taktisen tason taistelu</a></li>
                        <li><a href="pelaajan-pikaopas.html" class="nav-link-top" style="color:#C2B280;">Pelaajan
                                pikaopas</a></li>
                        <li><a href="kampanjan-hallinta.html" class="nav-link-top">Kampanjan hallinta</a></li>
                        <li><a href="skenaariot.html" class="nav-link-top">Skenaariot</a></li>
                        <li><a href="tutorial.html" class="nav-link-top">Tutoriaali</a></li>
                        <li><a href="siniset-yksiköt.html" class="nav-link-top">Siniset yksiköt</a></li>
                        <li><a href="punaiset-yksiköt.html" class="nav-link-top">Punaiset yksiköt</a></li>
                        <li><a href="pelinjohtajan-opas.html" class="nav-link-top">Pelinjohtajan opas</a></li>
                        <li><a href="sanasto-ja-ukk.html" class="nav-link-top">Sanasto ja UKK</a></li>
                        <li><a href="tietoja.html" class="nav-link-top">Tietoa & Muutoshistoria</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-right-spacer"></div>
        </div>
    </header>

    <div id="sidebar" class="sidebar-hidden">
        <h1 class="sidebar-title">Sisällysluettelo</h1>
        <nav id="nav-menu"></nav>
    </div>

    <button id="menu-toggle" aria-label="Avaa Sisällysluettelo">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
    </button>

    <main id="main-content">
        <div class="prose">
            <div class="main-banner">
                <div>
                    <h1 class="banner-title">
                        Taistelukenttä d20 – Pelaajan pikaopas
                    </h1>
                </div>
            </div>

            <section id="pikaopas">
                <h2>Pelaajan pikaopas</h2>

                <p>Tervetuloa pelaajan työkalupakkiin! Tämä työkalu auttaa sinua hallinnoimaan omia yksiköitäsi,
                    seuraamaan <span class="glossary-term" data-term="kp">komentopisteitä</span> ja tekemään nopeita
                    sääntötarkistuksia. Tiedot tallentuvat
                    automaattisesti selaimesi välimuistiin.</p>

                <h3>Pelivuoron Vaiheet</h3>
                <ol>
                    <li><strong>Liikevaihe:</strong> Yksiköt suorittavat ennalta määrätyt liikkeensä.</li>
                    <li><strong>Tiedusteluvaihe:</strong> Tiedustelutoiminnot ja havaintoheitot tehdään.
                    </li>
                    <li><strong>Komentovaihe:</strong> Pelaajat käyttävät Komentopisteensä (<span class="glossary-term"
                            data-term="kp">KP</span>) ja antavat kaikki käskyt
                        (tuli, erikoistoiminnot) samanaikaisesti.</li>
                    <li><strong>Tulitoimintavaihe:</strong> Kaikki Komentovaiheessa annetut tulikomennot ja
                        iskut
                        ratkaistaan.</li>
                    <li><strong>Tilannevaihe:</strong> <span class="glossary-term" data-term="moraali">Moraalitestit</span> suoritetaan, tilavaikutukset
                        päivitetään ja vuoro
                        päättyy.</li>
                </ol>

                <h3 style="margin-top: 2em;">Taistelun Perusteet</h3>
                <ul>
                    <li><strong>Hyökkäysheitto:</strong>
                        <code>d20 + <span class="glossary-term" data-term="taitotaso">Taitotaso</span> (<span class="glossary-term" data-term="taitotaso">TT</span>) + bonukset</code>
                        vs. Vihollisen
                        <code><span class="glossary-term" data-term="suoja">Suoja (S)</span> + Maaston <span class="glossary-term" data-term="suoja">suojabonus</span></code>.
                        Tulos pitää olla <strong>vähintään yhtä suuri</strong> kuin <span class="glossary-term"
                            data-term="suoja">Suoja</span>+ Maasto-bonus yhteenlaskettu arvo.
                    </li>
                    <li><strong><span class="glossary-term" data-term="etu ja haitta">Etu</span>
                            (Advantage):</strong>
                        Heitä 2 x d20, käytä parempi tulos. Saadaan esim. hyökätessä
                        sivustaan/selustaan tai lamautunutta kohdetta vastaan.</li>
                    <li><strong><span class="glossary-term" data-term="etu ja haitta">Haitta</span>
                            (Disadvantage):</strong> Heitä 2 x d20, käytä huonompi tulos. Tulee esim.
                        ammuttaessa linnoittautunutta kohdetta tai huonossa näkyvyydessä.</li>
                    <li><strong>Vahinko:</strong> Onnistunut osuma aiheuttaa vahinkoa aseen <strong><span
                                class="glossary-term" data-term="tuli-isku">Tuli-isku</span>
                            (<span class="glossary-term" data-term="tuli-isku">TI</span>)</strong> -nopan verran.</li>
                    <li><strong><span class="glossary-term" data-term="tilaisuusisku">Tilaisuusisku</span>:</strong> Jos
                        vihollinen poistuu Hallintavyöhykkeeltäsi (2 cm
                        säde) ilman
                        <i><span class="glossary-term" data-term="irtautuminen">Irtautuminen</span></i>-komentoa, saat
                        tehdä sitä vastaan yhden ilmaisen hyökkäyksen.
                    </li>
                </ul>

                <h3 style="margin-top: 2em;"><span class="glossary-term" data-term="moraali">Moraalitestit</span></h3>
                <p>
                    Yksikön henkinen kantti on avainasemassa. Kun yksikkö joutuu stressaavaan tilanteeseen, sen on
                    tehtävä <span class="glossary-term" data-term="moraali">moraalitesti</span> onnistuakseen.
                </p>
                <p>
                    <strong>Heitto:</strong>
                    <code>d20 + <span class="glossary-term" data-term="moraali">Moraalibonus</span> (<span class="glossary-term" data-term="moraali">M</span>)</code>
                    vs. <strong>Vaikeusaste (<span class="glossary-term" data-term="dc">DC</span>)</strong>
                </p>
                <p>
                    <strong>Seuraukset:</strong>
                </p>
                <ul>
                    <li><strong>Onnistuminen:</strong> Ei vaikutusta, yksikkö jatkaa toimintaansa.</li>
                    <li><strong>Epäonnistuminen 1-4 pisteellä:</strong> Yksikkö on <strong><span class="glossary-term"
                                data-term="tarahtanyt">Tärähtänyt</span></strong>. Se kärsii -2 rangaistuksen seuraavaan
                        hyökkäykseensä.</li>
                    <li><strong>Epäonnistuminen 5+ pisteellä:</strong> Yksikkö on <strong><span class="glossary-term"
                                data-term="lamautunut">Lamautunut</span></strong>. Se ei voi toimia, ja sitä vastaan
                        hyökätessä saa <span class="glossary-term" data-term="etu ja haitta">Edun</span>.</li>
                    <li><strong>Epäonnistuminen 10+ pisteellä TAI luonnollinen 1:</strong> Yksikkö joutuu <strong><span
                                class="glossary-term" data-term="vetaytyy">Vetäytyy</span></strong>-tilaan ja pakenee.
                    </li>
                </ul>

                <div class="table-container">
                    <table>
                        <caption><span class="glossary-term" data-term="moraali">Moraalitestin</span> vaikeusasteet
                        </caption>
                        <thead>
                            <tr>
                                <th>Tilanne</th>
                                <th><span class="glossary-term" data-term="dc">DC</span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Kärsii vahinkoa ensimmäistä kertaa taistelussa</td>
                                <td>10</td>
                            </tr>
                            <tr>
                                <td><span class="glossary-term" data-term="taistelukunto">TK</span> putoaa alle 50%
                                    (joutuu <span class="glossary-term"
                                        data-term="vaurioitunut">Vaurioitunut</span>-tilaan)</td>
                                <td>12</td>
                            </tr>
                            <tr>
                                <td>Joutuu epäsuoran tulen alle (vaikutusalueella)</td>
                                <td>13</td>
                            </tr>
                            <tr>
                                <td>Ystävällinen yksikkö tuhoutuu tai <span class="glossary-term"
                                        data-term="vetaytyy">vetäytyy</span> vieressä (≤ 5 cm säteellä)</td>
                                <td>12</td>
                            </tr>
                            <tr>
                                <td>Näkee panssarivaunun lähietäisyydellä (≤ 5 cm)</td>
                                <td>10</td>
                            </tr>
                            <tr>
                                <td>Rynnäköinti murtosulutteen läpi</td>
                                <td>14</td>
                            </tr>
                            <tr class="special-rule">
                                <td colspan="2"><strong>Muista:</strong> Jos <span class="glossary-term"
                                        data-term="moraali">moraalitestin</span> laukaiseva isku oli
                                    <strong><span class="glossary-term" data-term="raskas-osuma">Raskas
                                            Osuma</span></strong>, testin <span class="glossary-term"
                                        data-term="dc">DC</span>-arvoon lisätään +2.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 style="margin-top: 2em;">Tärkeimmät <span class="glossary-term"
                        data-term="tilaefektit">Tilaefektit</span></h3>
                <ul>
                    <li><strong><span class="glossary-term" data-term="vaurioitunut">Vaurioitunut</span>:</strong> <span
                            class="glossary-term" data-term="taistelukunto">TK</span>
                        alle 50%. <span class="glossary-term" data-term="liike">Liike</span> ja <span
                            class="glossary-term" data-term="tuli-isku">Tuli-isku</span> puolitettu.</li>
                    <li><strong><span class="glossary-term" data-term="lamautunut">Lamautunut</span>:</strong> Ei voi
                        liikkua tai käyttää toimintoja. Vastaan tehdyt
                        hyökkäykset
                        saavat <span class="glossary-term" data-term="etu ja haitta">Edun</span>. Poistuu
                        onnistuneella
                        moraalitestillä tai <i><span class="glossary-term" data-term="moraali">Moraalin
                                Kohotus</span></i> -komennolla.</li>
                    <li><strong><span class="glossary-term" data-term="vetaytyy">Vetäytyy</span>:</strong> Pakenee
                        hallitsemattomasti. Poistuu <i>Moraalin
                            Kohotus</i>
                        -komennolla.</li>
                    <li><strong><span class="glossary-term" data-term="piiloutunut">Piiloutunut</span>:</strong> Ei voi
                        ottaa kohteeksi, ellei vihollinen ole 5 cm tai lähempänä.
                        Tilaan pääsee vain erikoiskyvyllä.</li>
                </ul>

                <h3 style="margin-top: 2em;"><span class="glossary-term" data-term="taistelukunto">Taistelukunnon</span> Vaikutukset</h3>
                <p>
                    Yksikön taistelukyky heikkenee sen kärsiessä tappioita. Alla oleva taulukko näyttää, mitä
                    vaikutuksia <span class="glossary-term" data-term="taistelukunto">Taistelukunnon</span> (<span class="glossary-term" data-term="taistelukunto">TK</span>)
                    laskulla on. Vaikutukset ovat kumulatiivisia.
                </p>
                <div class="table-container">
                    <table>
                        <caption><span class="glossary-term" data-term="taistelukunto">Taistelukunnon</span> (<span class="glossary-term" data-term="taistelukunto">TK</span>)
                            vaikutustaulukko</caption>
                        <thead>
                            <tr>
                                <th><span class="glossary-term" data-term="taistelukunto">TK</span> Taso</th>
                                <th>Tila</th>
                                <th>Vaikutukset</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>100% - 51%</strong></td>
                                <td>Kunnossa</td>
                                <td>Ei rangaistuksia.</td>
                            </tr>
                            <tr>
                                <td><strong>50% - 26%</strong></td>
                                <td><span class="glossary-term" data-term="vaurioitunut">Vaurioitunut</span></td>
                                <td>
                                    <ul>
                                        <li>Pakollinen <span class="glossary-term"
                                                data-term="moraali">Moraalitesti</span> (<span class="glossary-term"
                                                data-term="dc">DC</span> 12).</li>
                                        <li><span class="glossary-term" data-term="liike">Liike</span> & <span
                                                class="glossary-term" data-term="tuli-isku">Tuli-isku</span> puolitettu.
                                        </li>
                                        <li>Yksikkökortissa mainitut <span
                                                class="vaurioitunut-tila">(Vaurioitunut)</span>-efektit aktivoituvat.
                                        </li>
                                        <li>Ansaitsee vain 50% <span class="glossary-term" data-term="xp">XP</span>:stä.
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>25% - 1%</strong></td>
                                <td><span class="glossary-term" data-term="lamautunut">Lamautunut</span></td>
                                <td>
                                    <ul>
                                        <li>Kaikki edelliset vaikutukset.</li>
                                        <li>Yksikkö on automaattisesti <span class="glossary-term"
                                                data-term="lamautunut">Lamautunut</span>, kunnes sen <span
                                                class="glossary-term" data-term="taistelukunto">TK</span> nousee yli
                                            25%.
                                        </li>
                                        <li>Ei voi suorittaa toimintoja.</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>0%</strong></td>
                                <td>Tuhottu</td>
                                <td>Yksikkö poistetaan pelistä.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 style="margin-top: 2em;">Maaston Vaikutukset Pelaajalle</h3>
                <p>
                    Yksikön <span class="glossary-term" data-term="liike">Liike</span>-arvo (<span class="glossary-term"
                        data-term="liike">L</span>) kertoo sen liikkumispotentiaalin senttimetreinä. Eri
                    maastotyypit kuluttavat tätä potentiaalia eri tavoin. Jos laskuissa ilmenee desimaaleja, ne
                    pyöristetään aina ylöspäin seuraavaan kokonaiseen senttimetriin pelaajan eduksi.
                </p>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Maastotyyppi</th>
                                <th>Liikkeen Kustannuskerroin</th>
                                <th><span class="glossary-term" data-term="suoja">Suojabonus</span> (<span
                                        class="glossary-term" data-term="suoja">S</span>)</th>
                                <th>Näkyvyysvaikutus</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Tie</strong></td>
                                <td>x 0.5</td>
                                <td>+0</td>
                                <td>Näkyvyys enintään 10 cm päähän.</td>
                            </tr>
                            <tr>
                                <td><strong>Pelto / Aukea</strong></td>
                                <td>x 1</td>
                                <td>+1</td>
                                <td>Näkyvyys enintään 10 cm päähän.</td>
                            </tr>
                            <tr>
                                <td><strong>Metsä / Suo</strong></td>
                                <td>x 2</td>
                                <td>+3</td>
                                <td>Näkyvyys enintään 5 cm päähän.</td>
                            </tr>
                            <tr>
                                <td><strong>Tiheikkö</strong></td>
                                <td>x 3</td>
                                <td>+4</td>
                                <td>Näkyvyys enintään 2 cm päähän (ZoC).</td>
                            </tr>
                            <tr>
                                <td><strong>Rakennus / Asema</strong></td>
                                <td>x 2</td>
                                <td>+4</td>
                                <td>Näkyvyys enintään 2 cm päähän (ZoC).</td>
                            </tr>
                            <tr>
                                <td><strong>Korkeuserot</strong></td>
                                <td colspan="3">
                                    <strong>Taktinen <span class="glossary-term" data-term="etu ja haitta">etu</span>
                                        (≥4 käyrää ylempänä):</strong> Yksikkö saa +2 bonuksen
                                    hyökkäys- ja
                                    tiedusteluheittoihin alempana olevaa kohdetta vastaan.<br>
                                    <strong>Liikkumisen <span class="glossary-term"
                                            data-term="etu ja haitta">haitta</span> (≥6 käyrää ylämäkeen):</strong>
                                    Liikkumiskustannus
                                    kyseisellä matkalla
                                    kaksinkertaistuu.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p style="margin-top: 1em;">
                    Lisäksi, jos <span class="glossary-term" data-term="los">näköyhteys</span> on olemassa, mutta se
                    kulkee näkyvyyttä heikentävän maaston (kuten metsän) läpi sallitun etäisyyden sisällä, kohteena
                    oleva yksikkö saa aina kyseisen maaston antaman suojabonuksen puolustukseensa.
                </p>

            </section>
            <h2>Pelaajan Työkalupakki</h2>
            <p>Tämä interaktiivinen työkalu on suunniteltu sinua, pelaajaa varten. Sen avulla voit helposti
                hallinnoida omia yksiköitäsi, seurata komentopisteitäsi (<span class="glossary-term"
                    data-term="kp">KP</span>), käyttää kykyjä ja tehdä nopeita
                sääntötarkistuksia pelin tiimellyksessä.<br>
                <strong>Huomio:</strong> Työkalupakki toimii selainpuoleisesti, eli kaikki syöttämäsi tiedot
                tallentuvat vain ja ainoastaan selaimesi paikalliseen muistiin. Sivusto ei kerää tai lähetä mitään
                dataa.
            </p>
            <section id="player-tool" class="rules-exclude">
                <div id="player-tool-container">

                    <div class="player-phase-tracker">
                        <div id="player-notifications"></div>
                        <div id="player-tactical-advice" class="tactical-advice"></div>
                        <h3 id="player-phase-title">Vuoron Tila</h3>
                        <div id="player-phase-instructions">
                            <p>Paina "Seuraava Vaihe" aloittaaksesi pelin.</p>
                        </div>
                        <div class="player-phase-controls">
                            <button id="player-prev-phase-button" disabled>&lt; Edellinen</button>
                            <span id="player-phase-counter">Vaihe 0/5</span>
                            <button id="player-next-phase-button">Seuraava Vaihe &gt;</button>
                        </div>
                    </div>

                    <div class="player-tool-tabs">
                        <button class="player-tab-button active" data-tab="tab-overview-player">Yleiskatsaus</button>
                        <button class="player-tab-button" data-tab="tab-units-player">Omat Yksiköt</button>
                        <button class="player-tab-button" data-tab="tab-commands-player">Komennot & Kyvyt</button>
                        <button class="player-tab-button" data-tab="tab-utils-player">Apuohjelmat</button>
                        <button class="player-tab-button" data-tab="tab-firesupport-player"
                            style="display: none;">Tulituki</button>
                    </div>

                    <div class="player-tool-content">
                        <div id="tab-overview-player" class="player-tab-pane active">
                            <div class="player-tool-section">
                                <h3>Valitse Roolisi</h3>
                                <p>Voit valita useita rooleja samanaikaisesti. <span class="glossary-term"
                                        data-term="kp">Komentopisteet</span> ja kyvyt päivittyvät
                                    valintojesi mukaan.</p>
                                <div id="role-selector-checkboxes">
                                    <label>
                                        <input type="checkbox" name="player-role" value="joukkueenjohtaja">
                                        Joukkueenjohtaja
                                    </label>
                                    <label>
                                        <input type="checkbox" name="player-role" value="komppanianpaallikko">
                                        Komppanianpäällikkö
                                    </label>
                                </div>
                            </div>
                            <div class="player-tool-section">
                                <h3>Omat Komentopisteesi (<span class="glossary-term" data-term="kp">KP</span>)</h3>
                                <div id="kp-tracker-container-jj" class="kp-tracker-container" style="display: none;">
                                    <h4>Joukkueenjohtajan Pisteet:</h4>
                                    <div class="player-kp-tracker">
                                        <div class="kp-controls">
                                            <button id="kp-decrement-btn-jj">-</button>
                                            <span id="player-kp-value-jj" class="player-kp-value">0</span>
                                            <button id="kp-increment-btn-jj">+</button>
                                        </div>
                                    </div>
                                </div>
                                <div id="kp-tracker-container-kp" class="kp-tracker-container" style="display: none;">
                                    <h4>Komppanianpäällikön Pisteet:</h4>
                                    <div class="player-kp-tracker">
                                        <div class="kp-controls">
                                            <button id="kp-decrement-btn-kp">-</button>
                                            <span id="player-kp-value-kp" class="player-kp-value">0</span>
                                            <button id="kp-increment-btn-kp">+</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tab-units-player" class="player-tab-pane">
                            <details class="collapsible-section" open>
                                <summary>Lisää yksiköitä peliin</summary>
                                <div class="collapsible-content">
                                    <p>Valitse yksikkötyyppi, anna sille yksilöllinen nimi ja paina "Lisää".</p>
                                    <div id="player-unit-templates-container"></div>
                                </div>
                            </details>
                            <hr>
                            <h3>Aktiiviset Yksiköt</h3>
                            <div id="active-units-display">
                                <p>Ei aktiivisia yksiköitä.</p>
                            </div>
                        </div>

                        <div id="tab-commands-player" class="player-tab-pane">
                            <div class="commands-container">
                                <div class="player-tool-section">
                                    <h3>Yleiset Komennot</h3>
                                    <div id="command-list-general">
                                        <div class="command-list-item">
                                            <span class="command-name">Hyökkäyskäsky</span>
                                            <button class="command-btn" data-cost="1" data-pool="jj">Käytä (1
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                        <div class="command-list-item">
                                            <span class="command-name">Tulen Keskittäminen</span>
                                            <button class="command-btn" data-cost="1" data-pool="jj">Käytä (1
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                        <div class="command-list-item">
                                            <span class="command-name">Irtautuminen</span>
                                            <button class="command-btn" data-cost="2" data-pool="jj">Käytä (2
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                        <div class="command-list-item">
                                            <span class="command-name">Moraalin Kohotus</span>
                                            <button class="command-btn" data-cost="2" data-pool="jj">Käytä (2
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                        <div class="command-list-item">
                                            <span class="command-name">Tulitukipyyntö (orgaaninen)</span>
                                            <button class="command-btn" data-cost="1" data-pool="jj">Käytä (1
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                        <div class="command-list-item">
                                            <span class="command-name">Tiedustelutoiminta</span>
                                            <button class="command-btn" data-cost="1" data-pool="jj">Käytä (1
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                        <div class="command-list-item">
                                            <span class="command-name">Valmius (Overwatch)</span>
                                            <button class="command-btn" data-cost="1" data-pool="jj">Käytä (1
                                                <span class="glossary-term" data-term="kp">KP</span>)</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="player-tool-section" id="command-list-commander" style="display:none;">
                                    <h3>Komppanianpäällikön Komennot</h3>
                                    <p>Nämä komennot käyttävät Komppanianpäällikön omia <span class="glossary-term"
                                            data-term="kp">komentopisteitä</span>.
                                        <strong>Sääntöhuomio:</strong> Voit käyttää vain <strong>yhden</strong> taktisen
                                        erikoiskyvyn (Motti, Painopiste, jne.) per vuoro, koska ne vaativat komentajan
                                        täyden
                                        huomion.
                                    </p>
                                    <div class="command-list-item">
                                        <div>
                                            <div class="command-name"><span class="glossary-term"
                                                    data-term="epäorgaaninen tulituki">Tulitukipyyntö</span>
                                                (Epäorgaaninen)</div>
                                            <small>Kutsu raskasta tukea.</small>
                                        </div>
                                        <button class="command-btn" data-cost="3" data-pool="kp">Käytä (3 <span
                                                class="glossary-term" data-term="kp">KP</span>)</button>
                                    </div>
                                    <div class="command-list-item">
                                        <div>
                                            <div class="command-name"><span class="glossary-term"
                                                    data-term="mottitaktiikka">Mottitaktiikka</span> (kerran/taistelu)
                                            </div>
                                            <small>Pakota viholliset vetäytymään.</small>
                                        </div>
                                        <button class="command-btn" id="use-ability-motti" data-ability-id="motti"
                                            data-ability-type="tactical" data-cost="5" data-pool="kp">Aktivoi (5
                                            <span class="glossary-term" data-term="kp">KP</span>)</button>
                                    </div>
                                    <div class="command-list-item">
                                        <div>
                                            <div class="command-name"><span class="glossary-term"
                                                    data-term="painopisteen-muodostaminen">Painopisteen
                                                    Muodostaminen</span></div>
                                            <small>Anna yhdelle joukkueelle lisäliikettä.</small>
                                        </div>
                                        <button class="command-btn" id="use-ability-painopiste" data-cost="3"
                                            data-pool="kp">Aktivoi (3 <span class="glossary-term"
                                                data-term="kp">KP</span>)</button>
                                    </div>
                                    <div class="command-list-item">
                                        <div>
                                            <div class="command-name"><span class="glossary-term"
                                                    data-term="sitova-tuli">Sitova Tuli</span></div>
                                            <small>Heikennä vihollisen moraalia tulella.</small>
                                        </div>
                                        <button class="command-btn" id="use-ability-sitova" data-cost="2"
                                            data-pool="kp">Aktivoi
                                            (2 <span class="glossary-term" data-term="kp">KP</span>)</button>
                                    </div>
                                    <div class="command-list-item">
                                        <div>
                                            <div class="command-name"><span class="glossary-term"
                                                    data-term="jarjestaytynyt-vetaytyminen">Järjestäytynyt
                                                    Vetäytyminen</span></div>
                                            <small>Salli yksiköiden vetäytyä ja ampua.</small>
                                        </div>
                                        <button class="command-btn" id="use-ability-vetaytyminen" data-cost="3"
                                            data-pool="kp">Aktivoi (3 <span class="glossary-term"
                                                data-term="kp">KP</span>)</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tab-utils-player" class="player-tab-pane">
                            <div class="player-tool-section">
                                <h3>Liikkumisen Kustannuslaskuri</h3>
                                <label for="liike-arvo-player" style="font-weight:bold;">Yksikön <span
                                        class="glossary-term" data-term="liike">Liike</span>-arvo:</label>
                                <input type="number" id="liike-arvo-player" placeholder="Esim. 7">
                                <p style="font-weight:bold; margin-top:1rem;">Suunniteltu matka (cm):</p>
                                <div class="liike-laskuri-grid">
                                    <label for="matka-tie-player">Tie:</label>
                                    <input type="number" id="matka-tie-player" placeholder="0">
                                    <label for="matka-pelto-player">Pelto/Aukea:</label>
                                    <input type="number" id="matka-pelto-player" placeholder="0">
                                    <label for="matka-metsa-player">Metsä/Suo:</label>
                                    <input type="number" id="matka-metsa-player" placeholder="0">
                                    <label for="matka-tihea-metsa-player">Tiheä metsä:</label>
                                    <input type="number" id="matka-tihea-metsa-player" placeholder="0">
                                </div>
                                <button id="calculate-liike-player">Laske Kustannus</button>
                                <div id="liike-output-player" class="calculator-output"></div>
                            </div>
                            <div class="player-tool-section">
                                <h3>Omat Muistiinpanot</h3>
                                <textarea id="player-notes"
                                    placeholder="Kirjoita omat taktiset muistiinpanosi tähän..."></textarea>
                            </div>
                        </div>
                        <div id="tab-firesupport-player" class="player-tab-pane">
                            <div class="player-tool-section" id="fire-support-manager">
                                <h3>Tulitukimatriisi (Komppanianpäällikkö)</h3>
                                <p>Lisää ja seuraa epäorgaanisia tulitukitehtäviäsi. Tämä osio näkyy vain, jos olet
                                    valinnut
                                    Komppanianpäällikön roolin.</p>

                                <form id="add-mission-form" class="fire-support-form">
                                    <input type="text" id="mission-type-input"
                                        placeholder="Tuen tyyppi (esim. 120mm Krh)" required>
                                    <input type="text" id="mission-target-input" placeholder="Maalin kuvaus" required>
                                    <input type="number" id="mission-arrival-input" placeholder="Saapumisvuoro" min="1"
                                        required>
                                    <button type="submit">Lisää tehtävä</button>
                                </form>

                                <div class="table-container" style="margin-top: 1.5rem;">
                                    <table id="fire-support-table">
                                        <thead>
                                            <tr>
                                                <th>Tyyppi</th>
                                                <th>Maali</th>
                                                <th>Saapumisvuoro</th>
                                                <th>Toiminnot</th>
                                            </tr>
                                        </thead>
                                        <tbody id="fire-support-mission-list">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="player-tool-reset-container">
                    <button id="player-reset-tool-button" class="danger-button">Nollaa Koko Työkalu</button>
                </div>

            </section>
            <div id="player-modal-overlay" class="modal-overlay"></div>
            <div id="player-modal-container" class="modal-container">
                <h3>Vahvista nollaus</h3>
                <p>Olet aikeissa poistaa kaikki pelaajan työkalun tiedot pysyvästi selaimen muistista. Vahvista toiminto
                    kirjoittamalla alle <strong>RESET</strong> (kirjainkoolla on väliä).</p>
                <input type="text" id="player-reset-confirm-input" placeholder="Kirjoita vahvistus tähän...">
                <div class="modal-buttons">
                    <button id="player-reset-cancel-button">Peruuta</button>
                    <button id="player-reset-confirm-button" class="danger-button" disabled>Vahvista ja Nollaa</button>
                </div>
            </div>
        </div>
    </main>
    <!--
    ====================================================================
    KELLUVAT VIERITYSNAPIT (SCROLL BUTTONS)
    ====================================================================
    -->
    <div id="scroll-buttons-container" class="scroll-buttons">

        <div id="scroll-legend" class="scroll-legend-panel">
            <p class="font-bold mb-2">Nappien selitteet:</p>
            <ul>
                <li><img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629045/Kersantti_hihalaatta.svg_moun5e.png"
                        alt="Kersantin hihalaatta, jota käytetään vierityspainikkeessa." class="legend-icon"> Sivun
                    alkuun /
                    Loppuun</li>
                <li><img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629035/Alikersantti_hihalaatta.svg_d1c14f.png"
                        alt="Alikersantin hihalaatta, jota käytetään vierityspainikkeessa." class="legend-icon">
                    Edellinen
                    / Seuraava pääotsikko (H2)</li>
                <li><img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629046/Korpraali_hihalaatta.svg_pmryeq.png"
                        alt="Korpraalin hihalaatta, jota käytetään vierityspainikkeessa." class="legend-icon"> Edellinen
                    /
                    Seuraava otsikko (H2/H3)</li>
            </ul>
        </div>

        <div class="scroll-row">
            <button id="scroll-info-toggle" title="Näytä ohjeet" class="scroll-button info-button">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
                </svg>
            </button>
        </div>

        <div class="scroll-row">
            <div class="scroll-column">
                <button id="scroll-top" title="Sivun alkuun (Kersantti)" class="scroll-button">
                    <img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629045/Kersantti_hihalaatta.svg_moun5e.png"
                        alt="Sivun alkuun">
                </button>
                <button id="scroll-h2-up" title="Edellinen pääotsikko (Alikersantti)" class="scroll-button">
                    <img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629035/Alikersantti_hihalaatta.svg_d1c14f.png"
                        alt="Edellinen pääotsikko">
                </button>
                <button id="scroll-h3-up" title="Edellinen otsikko (Korpraali)" class="scroll-button">
                    <img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629046/Korpraali_hihalaatta.svg_pmryeq.png"
                        alt="Edellinen otsikko">
                </button>
            </div>
            <div class="scroll-column">
                <button id="scroll-bottom" title="Sivun loppuun (Kersantti)" class="scroll-button">
                    <img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629045/Kersantti_hihalaatta.svg_moun5e.png"
                        alt="Sivun loppuun" class="invert-icon">
                </button>
                <button id="scroll-h2-down" title="Seuraava pääotsikko (Alikersantti)" class="scroll-button">
                    <img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629035/Alikersantti_hihalaatta.svg_d1c14f.png"
                        alt="Seuraava pääotsikko" class="invert-icon">
                </button>
                <button id="scroll-h3-down" title="Seuraava otsikko (Korpraali)" class="scroll-button">
                    <img src="https://res.cloudinary.com/dtd8emlzk/image/upload/v1753629046/Korpraali_hihalaatta.svg_pmryeq.png"
                        alt="Seuraava otsikko" class="invert-icon">
                </button>
            </div>
        </div>
    </div>

    <div id="gm-warning-overlay" class="modal-overlay"></div>
    <div id="gm-warning-modal" class="modal-container">
        <h3>Vain pelinjohtajan tietoja</h3>
        <p>Olet siirtymässä sivulle <strong id="gm-warning-page-name"></strong> ja sen sisältö on tarkoitettu ainoastaan
            pelinjohtajalle. Pelaajana tietojen tarkasteleminen voi heikentää omaa ja muiden pelikokemusta rikkomalla
            pelin keskeisen periaatteen sodan sumusta.</p>
        <p><strong>Oletko varma, että haluat jatkaa?</strong></p>
        <div class="modal-options">
            <label>
                <input type="checkbox" id="gm-warning-dont-show-again">
                <span>Älä näytä tätä viestiä uudelleen (vanhenee 24h)</span>
            </label>
        </div>
        <div class="modal-buttons" style="justify-content: space-around;">
            <button id="gm-warning-cancel-button">Palaa takaisin</button>
            <button id="gm-warning-confirm-button" class="confirm-button" style="
    background-color: #dc2626;">Jatka sivulle</button>
        </div>
    </div>
    <!--
    ===================================================================
    FOOTER
    ===================================================================
    -->
    <footer
        style="background-color: #e7e5e4; border-top: 4px solid #556B2F; padding: 3rem 1rem; margin-top: 4rem; color: #44403C; font-family: 'Inter', sans-serif;">
        <div
            style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start; gap: 2rem;">

            <div style="flex: 1; min-width: 250px;">
                <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                    <svg width="40" height="40" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="none"
                        stroke="#556B2F" stroke-width="6" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M50 5 L95 27.5 L95 72.5 L50 95 L5 72.5 L5 27.5 Z" />
                        <path d="M35 30 L35 70 M35 50 L65 50 M65 50 L80 70 M65 50 L65 30 L35 30" stroke="#2F361F"
                            stroke-width="8" />
                    </svg>
                    <div style="margin-left: 1rem;">
                        <span
                            style="font-family: 'Black Ops One', sans-serif; font-size: 1.4rem; color: #2F361F; letter-spacing: 2px; line-height: 1;">ROUTA</span>
                        <span
                            style="display: block; font-size: 0.7rem; color: #556B2F; font-weight: bold; letter-spacing: 1px;">TACTICAL
                            SYSTEMS</span>
                    </div>
                </div>
                <p style="font-size: 0.85rem; line-height: 1.5; margin: 0; opacity: 0.8;">
                    Kehittynyt taktinen simulaatioympäristö operatiivisen tason johtamiskoulutukseen.
                    <br>
                    <strong>Versio:</strong> 1.0 (Public Release)
                </p>
            </div>

            <div style="flex: 1; min-width: 200px;">
                <h4
                    style="margin: 0 0 1rem 0; color: #2F361F; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; border-bottom: 1px solid #556B2F; display: inline-block; padding-bottom: 4px;">
                    Järjestelmä
                </h4>
                <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.9rem;">
                    <li style="margin-bottom: 0.5rem;">
                        <a href="https://github.com/AkseliLarikka/taistelukentta" target="_blank"
                            style="text-decoration: none; color: #44403C; display: flex; align-items: center; gap: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="#556B2F" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <polyline points="16 18 22 12 16 6"></polyline>
                                <polyline points="8 6 2 12 8 18"></polyline>
                            </svg>
                            <span style="border-bottom: 1px dotted #999;">Lähdekoodi / Blueprints</span>
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="https://forms.gle/V7YuqPGC9oaX87RG6" target="_blank"
                            style="text-decoration: none; color: #44403C; display: flex; align-items: center; gap: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="#556B2F" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            <span style="border-bottom: 1px dotted #999;">Lähetä kenttäraportti (Palaute)</span>
                        </a>
                    </li>
                    <li>
                        <a href="tietoja.html"
                            style="text-decoration: none; color: #44403C; display: flex; align-items: center; gap: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="#556B2F" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                            <span style="border-bottom: 1px dotted #999;">Järjestelmän tiedot & Lisenssi</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div style="flex: 1; min-width: 200px;">
                <h4
                    style="margin: 0 0 1rem 0; color: #2F361F; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; border-bottom: 1px solid #556B2F; display: inline-block; padding-bottom: 4px;">
                    Organisaatio
                </h4>
                <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.9rem;">
                    <li style="margin-bottom: 0.5rem;">
                        <a href="https://akselilarikka.github.io/" target="_blank"
                            style="text-decoration: none; color: #44403C; display: flex; align-items: center; gap: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="#556B2F" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                <path
                                    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                                </path>
                            </svg>
                            <span style="font-weight: bold;">Routa Global HQ</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://linkedin.com/in/akseli-larikka" target="_blank"
                            style="text-decoration: none; color: #44403C; display: flex; align-items: center; gap: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="#556B2F" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span style="border-bottom: 1px dotted #999;">Operatiivinen johto (Personnel File)</span>
                        </a>
                    </li>
                </ul>
            </div>

        </div>

        <div
            style="text-align: center; margin-top: 3rem; font-size: 0.75rem; color: #666; border-top: 1px solid #d6d3d1; padding-top: 1rem;">
            © <span id="copyright-year">2025</span> Akseli Larikka & Routa Global. All rights reserved. <br>
            <span style="opacity: 0.7;">Authorized for civilian training use under CC BY-NC-ND 4.0.</span>
        </div>
    </footer>
    <!--
    ====================================================================
    JAVASCRIPT-TIEDOSTOT
    ====================================================================
    -->

    <script src="Scripts/rules.js"></script>
    <script src="Scripts/glossaryData.js"></script>
    <script src="Scripts/popup.js"></script>
    <script src="Scripts/unit-data.js"></script>
    <script src="Scripts/player-tools.js"></script>
    <script src="Scripts/scroll-buttons.js"></script>
</body>

</html>